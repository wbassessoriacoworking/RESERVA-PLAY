<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RESERVA PLAY | Guarulhos Pilot</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CORE DESIGN SYSTEM --- */
        :root {
            --bg-black: #050505;
            --bg-panel: #0a0a0a;
            --bg-card: #121212;
            --border: #222;
            --text-main: #fff;
            --text-muted: #888;
            --neon-blue: #00f0ff;
            --neon-purple: #bd00ff;
            --success: #00ff9d;
            --glass: rgba(20, 20, 20, 0.95);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-black);
            color: var(--text-main);
            height: 100vh;
            overflow-x: hidden;
        }

        h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; letter-spacing: -0.5px; }
        
        /* Utilit√°rios */
        .hidden { display: none !important; }
        .flex-between { display: flex; justify-content: space-between; align-items: center; }
        .text-neon { color: var(--neon-blue); text-shadow: 0 0 10px rgba(0, 240, 255, 0.3); }
        .full-screen { width: 100%; height: 100vh; position: fixed; top: 0; left: 0; overflow-y: auto; background: var(--bg-black); }
        .input-field { width: 100%; background: #111; border: 1px solid #333; padding: 12px; border-radius: 8px; color: white; margin-bottom: 15px; }
        .input-field:focus { border-color: var(--neon-blue); }

        /* Bot√µes */
        .btn { padding: 12px 20px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600; font-size: 0.9rem; transition: 0.3s; width: 100%; }
        .btn-neon { background: var(--neon-blue); color: #000; box-shadow: 0 0 15px rgba(0, 240, 255, 0.2); }
        .btn-neon:hover { transform: scale(1.02); box-shadow: 0 0 25px rgba(0, 240, 255, 0.4); }
        .btn-outline { background: transparent; border: 1px solid var(--border); color: var(--text-main); }
        .btn-outline:hover { border-color: var(--neon-blue); color: var(--neon-blue); }
        
        .btn-back { 
            position: fixed; top: 20px; left: 20px; z-index: 9999; 
            background: rgba(0,0,0,0.6); backdrop-filter: blur(10px); 
            border: 1px solid var(--border); color: white; 
            padding: 8px 15px; border-radius: 50px; cursor: pointer; 
        }

        /* --- 1. GATEWAY (Login) --- */
        .gateway {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
            text-align: center; padding: 20px;
        }
        .gateway-cards { display: flex; gap: 20px; margin-top: 40px; flex-wrap: wrap; justify-content: center; }
        .role-card {
            background: var(--bg-card); border: 1px solid var(--border);
            padding: 40px; width: 300px; border-radius: 20px; cursor: pointer; transition: 0.4s;
            position: relative; overflow: hidden;
        }
        .role-card:hover { border-color: var(--neon-blue); transform: translateY(-5px); }
        .role-card i { font-size: 3rem; margin-bottom: 20px; color: var(--text-muted); }

        /* --- 2. APP CLIENTE --- */
        .app-mobile {
            max-width: 480px; margin: 0 auto; background: var(--bg-panel); min-height: 100vh;
            border-left: 1px solid var(--border); border-right: 1px solid var(--border);
            padding-bottom: 80px; position: relative;
        }
        .app-header {
            padding: 20px; display: flex; justify-content: space-between; align-items: center;
            background: rgba(10,10,10,0.8); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; border-bottom: 1px solid var(--border);
        }
        .category-scroll { display: flex; gap: 10px; overflow-x: auto; padding: 15px 20px; scrollbar-width: none; }
        .cat-chip { background: var(--bg-card); border: 1px solid var(--border); padding: 8px 16px; border-radius: 50px; white-space: nowrap; font-size: 0.8rem; cursor: pointer; }
        .cat-chip.active { background: var(--neon-blue); color: #000; font-weight: bold; }

        .item-card { margin: 0 20px 20px; background: var(--bg-card); border-radius: 16px; overflow: hidden; border: 1px solid var(--border); }
        .item-img { height: 160px; background-size: cover; background-position: center; position: relative; }
        .item-body { padding: 15px; }
        .select-btn { 
            background: #000; border: 1px solid var(--border); padding: 12px; border-radius: 8px; 
            margin-top: 10px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: 0.2s;
        }
        .select-btn:hover { border-color: var(--neon-blue); }

        /* MODAIS */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); z-index: 2000;
            display: flex; align-items: flex-end;
        }
        .modal-sheet {
            background: #151515; width: 100%; max-width: 480px; margin: 0 auto;
            border-top-left-radius: 25px; border-top-right-radius: 25px;
            padding: 30px; border-top: 1px solid var(--border);
            animation: slideUp 0.3s ease-out;
        }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        /* --- 3. ONBOARDING COMERCIANTE (WIZARD) --- */
        .wizard-container { max-width: 500px; margin: 50px auto; padding: 20px; }
        .wizard-step { background: var(--bg-panel); padding: 30px; border-radius: 16px; border: 1px solid var(--border); animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .plan-card {
            border: 1px solid var(--border); padding: 20px; border-radius: 12px; margin-bottom: 15px; cursor: pointer; transition: 0.3s;
            display: flex; justify-content: space-between; align-items: center;
        }
        .plan-card:hover, .plan-card.selected { border-color: var(--neon-purple); background: rgba(189, 0, 255, 0.1); }
        
        /* --- 4. DASHBOARD B2B --- */
        .dash-grid { display: grid; grid-template-columns: 240px 1fr; min-height: 100vh; }
        .sidebar { background: var(--bg-panel); border-right: 1px solid var(--border); padding: 25px; display: flex; flex-direction: column; }
        .dash-content { padding: 30px; overflow-y: auto; }
        .kpi-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .kpi-card { background: var(--bg-panel); padding: 20px; border-radius: 12px; border: 1px solid var(--border); }
        
        .live-feed {
            position: fixed; bottom: 30px; right: 30px; width: 320px; display: flex; flex-direction: column; gap: 10px; pointer-events: none;
        }
        .toast {
            background: rgba(20, 20, 20, 0.9); backdrop-filter: blur(10px);
            border: 1px solid var(--neon-blue); padding: 15px; border-radius: 8px;
            color: white; font-size: 0.85rem; display: flex; gap: 10px; align-items: center; pointer-events: auto;
            animation: slideIn 0.5s;
        }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }

        /* Media Queries */
        @media (max-width: 800px) {
            .dash-grid { grid-template-columns: 1fr; }
            .sidebar { display: none; }
            .wizard-container { margin: 10px auto; }
        }
    </style>
</head>
<body>

    <button id="back-btn" class="btn-back hidden" onclick="resetDemo()"><i class="fa-solid fa-arrow-left"></i> In√≠cio</button>

    <section id="gateway" class="gateway">
        <i class="fa-solid fa-bolt text-neon" style="font-size: 4rem; margin-bottom: 20px;"></i>
        <h1 style="font-size: 2.5rem;">RESERVA PLAY</h1>
        <p style="color: var(--text-muted); margin-bottom: 30px;">Guarulhos Pilot Version</p>
        
        <div class="gateway-cards">
            <div class="role-card" onclick="openClient()">
                <i class="fa-solid fa-martini-glass-citrus"></i>
                <h3>Reservar (Cliente)</h3>
                <p style="color: var(--text-muted); margin-top: 10px;">Encontre bares e baladas em Guarulhos.</p>
            </div>
            <div class="role-card" onclick="openMerchantFlow()">
                <i class="fa-solid fa-shop"></i>
                <h3>Cadastrar Neg√≥cio</h3>
                <p style="color: var(--text-muted); margin-top: 10px;">Credencie seu estabelecimento e pague o plano.</p>
            </div>
        </div>
    </section>

    <section id="app-client" class="full-screen hidden">
        <div class="app-mobile">
            <div class="app-header">
                <div>
                    <div style="font-size: 0.7rem; color: var(--text-muted);">VOC√ä EST√Å EM</div>
                    <div style="font-weight: 700;">Guarulhos, SP <i class="fa-solid fa-location-dot text-neon"></i></div>
                </div>
                <div style="width: 35px; height: 35px; background: #222; border-radius: 50%; display: flex; align-items: center; justify-content: center;"><i class="fa-solid fa-user"></i></div>
            </div>

            <div class="category-scroll">
                <div class="cat-chip active">Todos</div>
                <div class="cat-chip">Centro</div>
                <div class="cat-chip">Maia</div>
                <div class="cat-chip">Vila Galv√£o</div>
            </div>

            <div id="venues-list" style="padding-top: 20px;"></div>
        </div>

        <div id="config-modal" class="modal-overlay hidden">
            <div class="modal-sheet">
                <h3 style="margin-bottom: 20px;">Detalhes da Reserva</h3>
                
                <label style="font-size: 0.8rem; color: #888;">Data da Reserva</label>
                <input type="date" class="input-field" id="res-date">
                
                <label style="font-size: 0.8rem; color: #888;">N√∫mero de Pessoas</label>
                <select class="input-field" id="res-pax">
                    <option value="2">2 Pessoas</option>
                    <option value="4">4 Pessoas</option>
                    <option value="6">6 Pessoas</option>
                    <option value="10">Grupo (10+)</option>
                </select>

                <div class="flex-between" style="margin-top: 20px;">
                    <button class="btn btn-outline" style="width: 48%;" onclick="closeConfig()">Cancelar</button>
                    <button class="btn btn-neon" style="width: 48%;" onclick="goToCheckout()">Continuar</button>
                </div>
            </div>
        </div>

        <div id="checkout-modal" class="modal-overlay hidden">
            <div class="modal-sheet">
                <div class="flex-between"><h2>Checkout</h2> <i class="fa-solid fa-xmark" onclick="closeCheckout()"></i></div>
                <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
                
                <div class="flex-between" style="margin-bottom: 10px; color: #aaa;">
                    <span id="chk-item-name">Item</span>
                    <span id="chk-item-price">R$ 0,00</span>
                </div>
                <div class="flex-between" style="margin-bottom: 10px; color: #aaa;">
                    <span>Taxa Reserva Play</span>
                    <span id="chk-fee">R$ 0,00</span>
                </div>
                <div class="flex-between" style="font-size: 1.2rem; font-weight: bold; color: white; margin-top: 20px;">
                    <span>Total</span>
                    <span class="text-neon" id="chk-total">R$ 0,00</span>
                </div>

                <button class="btn btn-neon" style="margin-top: 20px;" onclick="finalizeReservation()">PAGAR COM PIX</button>
            </div>
        </div>

        <div id="ticket-modal" class="full-screen hidden" style="background: black; z-index: 3000; display: flex; flex-direction: column; align-items: center; justify-content: center;">
            <div style="background: #1a1a1a; padding: 40px; border-radius: 20px; text-align: center; border: 1px solid #333; width: 300px;">
                <h2 class="text-neon" style="margin-bottom: 10px;">Confirmado!</h2>
                <p style="color: #888; font-size: 0.9rem;">Apresente na entrada</p>
                <div style="background: white; width: 150px; height: 150px; margin: 20px auto; display: flex; align-items: center; justify-content: center;">
                    <i class="fa-solid fa-qrcode" style="font-size: 5rem; color: black;"></i>
                </div>
                <p style="font-family: monospace; font-size: 1.2rem;">#GRU-8921</p>
                <button class="btn btn-outline" style="margin-top: 20px;" onclick="resetDemo()">Fechar</button>
            </div>
        </div>
    </section>

    <section id="merchant-onboarding" class="full-screen hidden">
        <div class="wizard-container">
            <div style="text-align: center; margin-bottom: 30px;">
                <i class="fa-solid fa-play text-neon" style="font-size: 2rem;"></i>
                <h2>Credenciamento Parceiro</h2>
            </div>

            <div id="step-1" class="wizard-step">
                <h3>1. Dados do Estabelecimento</h3>
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">Necess√°rio para emiss√£o de nota fiscal.</p>
                
                <input type="text" class="input-field" placeholder="Nome Fantasia (Ex: Bar do Z√©)" id="merch-name">
                <input type="text" class="input-field" placeholder="CNPJ (Somente N√∫meros)">
                <select class="input-field">
                    <option>Bar / Pub</option>
                    <option>Casa Noturna</option>
                    <option>Restaurante</option>
                </select>

                <button class="btn btn-neon" onclick="nextStep(2)">Continuar <i class="fa-solid fa-arrow-right"></i></button>
            </div>

            <div id="step-2" class="wizard-step hidden">
                <h3>2. Escolha seu Plano</h3>
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">Para manter seu estabelecimento vis√≠vel.</p>

                <div class="plan-card" onclick="selectPlan(this)">
                    <div>
                        <div style="font-weight: bold;">Starter</div>
                        <small style="color: #888;">50 reservas/m√™s</small>
                    </div>
                    <div>R$ 99/m√™s</div>
                </div>

                <div class="plan-card selected" onclick="selectPlan(this)">
                    <div>
                        <div style="font-weight: bold; color: var(--neon-purple);">Pro (Recomendado)</div>
                        <small style="color: #888;">Reservas Ilimitadas + Destaque</small>
                    </div>
                    <div>R$ 199/m√™s</div>
                </div>

                <div class="plan-card" onclick="selectPlan(this)">
                    <div>
                        <div style="font-weight: bold;">Enterprise</div>
                        <small style="color: #888;">Gest√£o Multi-lojas</small>
                    </div>
                    <div>R$ 499/m√™s</div>
                </div>

                <div class="flex-between">
                    <button class="btn btn-outline" style="width: 30%;" onclick="prevStep(1)">Voltar</button>
                    <button class="btn btn-neon" style="width: 65%;" onclick="nextStep(3)">Ir para Pagamento</button>
                </div>
            </div>

            <div id="step-3" class="wizard-step hidden" style="text-align: center;">
                <h3>3. Ativa√ß√£o da Conta</h3>
                <p style="color: #666; margin-bottom: 30px;">Realize o pagamento da primeira mensalidade para liberar o Dashboard.</p>
                
                <div style="font-size: 2rem; font-weight: bold; margin-bottom: 20px;" class="text-neon">R$ 199,00</div>
                <div style="background: #222; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-family: monospace; font-size: 0.8rem; word-break: break-all;">
                    00020126580014BR.GOV.BCB.PIX0136123e4567-e89b-12d3-a456-426614174000
                </div>
                <p style="font-size: 0.8rem; color: #888; margin-bottom: 20px;">Copie e cole no app do seu banco</p>

                <button class="btn btn-neon" onclick="activateMerchant()">SIMULAR PAGAMENTO APROVADO</button>
            </div>
        </div>
    </section>

    <section id="merchant-dash" class="full-screen hidden">
        <div class="dash-grid">
            <div class="sidebar">
                <h3 style="margin-bottom: 30px;"><i class="fa-solid fa-play text-neon"></i> PAINEL</h3>
                <p style="color: #666; font-size: 0.8rem;">ESTABELECIMENTO</p>
                <h4 style="margin-bottom: 20px;" id="dash-name-display">Nome do Local</h4>
                
                <div style="color: white; margin-bottom: 15px; font-weight: bold;">Vis√£o Geral</div>
                <div style="color: #666; margin-bottom: 15px;">Reservas</div>
                <div style="color: #666; margin-bottom: 15px;">Financeiro</div>
                
                <div style="margin-top: auto; padding: 15px; background: rgba(0,255,157,0.1); border: 1px solid var(--success); border-radius: 8px;">
                    <small style="color: var(--success);">‚óè Conta Ativa</small><br>
                    <small style="color: white;">Plano PRO</small>
                </div>
            </div>

            <div class="dash-content">
                <div class="flex-between" style="margin-bottom: 30px;">
                    <h2>Vis√£o em Tempo Real</h2>
                    <button class="btn btn-outline" style="width: auto;"><i class="fa-solid fa-qrcode"></i> Ler Ticket</button>
                </div>

                <div class="kpi-row">
                    <div class="kpi-card">
                        <small style="color: #888;">Faturamento (Hoje)</small>
                        <div class="text-neon" style="font-size: 2rem; font-weight: 700;" id="kpi-rev">R$ 0,00</div>
                    </div>
                    <div class="kpi-card">
                        <small style="color: #888;">Reservas Confirmadas</small>
                        <div style="font-size: 2rem; font-weight: 700;" id="kpi-count">0</div>
                    </div>
                </div>

                <h3>√öltimas Reservas</h3>
                <div id="live-list" style="margin-top: 20px;">
                    <p style="color: #666; font-style: italic;">Aguardando novas reservas...</p>
                </div>
            </div>
            
            <div class="live-feed" id="toast-container"></div>
        </div>
    </section>

    <script>
        // --- DADOS REAIS DE GUARULHOS (SIMULADOS) ---
        const venuesGuarulhos = [
            {
                name: "Marechal Choperia",
                area: "Centro",
                type: "Bar & Food",
                img: "https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=600&q=80",
                options: [
                    { name: "Mesa Happy Hour", price: 50 },
                    { name: "Reserva Anivers√°rio", price: 100 }
                ]
            },
            {
                name: "King Club Guarulhos",
                area: "Jardim Maia",
                type: "Balada",
                img: "https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=600&q=80",
                badge: "üî• Lota√ß√£o M√°xima",
                options: [
                    { name: "Pista (Lote 1)", price: 40 },
                    { name: "Camarote Open Bar", price: 150 }
                ]
            },
            {
                name: "Vila Velha Bar",
                area: "Vila Galv√£o",
                type: "M√∫sica ao Vivo",
                img: "https://images.unsplash.com/photo-1572116469696-31de0f17cc34?w=600&q=80",
                options: [
                    { name: "Mesa Feijoada (S√°b)", price: 80 },
                    { name: "Entrada Samba", price: 30 }
                ]
            },
            {
                name: "Est√∫dio Black Barber",
                area: "Bosque Maia",
                type: "Barbearia",
                img: "https://images.unsplash.com/photo-1585747860715-2ba37e788b70?w=600&q=80",
                options: [
                    { name: "Corte + Barba (14:00)", price: 60 },
                    { name: "Corte + Barba (16:00)", price: 60 }
                ]
            }
        ];

        // --- NAVEGA√á√ÉO GERAL ---
        function resetDemo() {
            document.querySelectorAll('section').forEach(el => el.classList.add('hidden'));
            document.getElementById('gateway').classList.remove('hidden');
            document.getElementById('back-btn').classList.add('hidden');
            stopSimulation();
        }

        // --- L√ìGICA DO CLIENTE (B2C) ---
        let selectedItem = null;
        let selectedPrice = 0;

        function openClient() {
            document.getElementById('gateway').classList.add('hidden');
            document.getElementById('app-client').classList.remove('hidden');
            document.getElementById('back-btn').classList.remove('hidden');
            renderVenues();
        }

        function renderVenues() {
            const container = document.getElementById('venues-list');
            container.innerHTML = '';
            
            venuesGuarulhos.forEach(place => {
                let badgeHtml = place.badge ? `<div style="position:absolute; top:10px; right:10px; background:black; color:gold; padding:4px 8px; border-radius:4px; font-weight:bold; font-size:0.7rem;">${place.badge}</div>` : '';
                
                let optionsHtml = '';
                place.options.forEach(opt => {
                    optionsHtml += `
                        <div class="select-btn" onclick="startBooking('${opt.name}', ${opt.price})">
                            <div><strong>${opt.name}</strong></div>
                            <div class="text-neon">R$ ${opt.price},00</div>
                        </div>
                    `;
                });

                const card = document.createElement('div');
                card.className = 'item-card';
                card.innerHTML = `
                    <div class="item-img" style="background-image: url('${place.img}');">
                        ${badgeHtml}
                        <div style="position:absolute; bottom:10px; left:10px; background:rgba(0,0,0,0.7); padding:4px 8px; border-radius:4px; font-size:0.7rem; color:white;">
                            <i class="fa-solid fa-location-dot"></i> ${place.area}
                        </div>
                    </div>
                    <div class="item-body">
                        <h3>${place.name}</h3>
                        <p style="color:#888; font-size:0.85rem; margin-bottom:10px;">${place.type}</p>
                        ${optionsHtml}
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Fluxo de Reserva
        function startBooking(item, price) {
            selectedItem = item;
            selectedPrice = price;
            // Abre configura√ß√£o antes do checkout
            document.getElementById('config-modal').classList.remove('hidden');
        }

        function closeConfig() {
            document.getElementById('config-modal').classList.add('hidden');
        }

        function goToCheckout() {
            closeConfig();
            
            // Calcula taxas
            const fee = selectedPrice * 0.10; // 10% taxa app
            const total = selectedPrice + fee;

            document.getElementById('chk-item-name').innerText = selectedItem;
            document.getElementById('chk-item-price').innerText = `R$ ${selectedPrice.toFixed(2)}`;
            document.getElementById('chk-fee').innerText = `R$ ${fee.toFixed(2)}`;
            document.getElementById('chk-total').innerText = `R$ ${total.toFixed(2)}`;
            
            document.getElementById('checkout-modal').classList.remove('hidden');
        }

        function closeCheckout() {
            document.getElementById('checkout-modal').classList.add('hidden');
        }

        function finalizeReservation() {
            const btn = document.querySelector('#checkout-modal .btn-neon');
            btn.innerText = "PROCESSANDO...";
            setTimeout(() => {
                closeCheckout();
                btn.innerText = "PAGAR COM PIX";
                document.getElementById('ticket-modal').classList.remove('hidden');
            }, 1500);
        }

        // --- L√ìGICA DO COMERCIANTE (B2B - ONBOARDING) ---
        let merchantName = "";

        function openMerchantFlow() {
            document.getElementById('gateway').classList.add('hidden');
            document.getElementById('merchant-onboarding').classList.remove('hidden');
            document.getElementById('back-btn').classList.remove('hidden');
        }

        function nextStep(step) {
            if(step === 2) {
                merchantName = document.getElementById('merch-name').value;
                if(!merchantName) return alert("Por favor, digite o nome do estabelecimento.");
            }
            
            document.querySelectorAll('.wizard-step').forEach(el => el.classList.add('hidden'));
            document.getElementById(`step-${step}`).classList.remove('hidden');
        }

        function prevStep(step) {
            document.querySelectorAll('.wizard-step').forEach(el => el.classList.add('hidden'));
            document.getElementById(`step-${step}`).classList.remove('hidden');
        }

        function selectPlan(el) {
            document.querySelectorAll('.plan-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
        }

        function activateMerchant() {
            // Anima√ß√£o de sucesso e entrada no dashboard
            document.getElementById('step-3').innerHTML = `<i class="fa-solid fa-check-circle text-neon" style="font-size:4rem; margin-bottom:20px;"></i><h3>Pagamento Confirmado!</h3><p>Configurando seu ambiente...</p>`;
            
            setTimeout(() => {
                document.getElementById('merchant-onboarding').classList.add('hidden');
                document.getElementById('dash-name-display').innerText = merchantName;
                document.getElementById('merchant-dash').classList.remove('hidden');
                startSimulation();
            }, 2000);
        }

        // --- SIMULA√á√ÉO DE VENDAS NO DASHBOARD ---
        let simInterval;
        let revenue = 0;
        let count = 0;

        function startSimulation() {
            document.getElementById('live-list').innerHTML = ''; // Limpa lista anterior
            
            simInterval = setInterval(() => {
                const customers = ["Jo√£o Silva", "Maria Oliveira", "Pedro Santos", "Ana Costa"];
                const items = ["Entrada Pista", "Combo Vodka", "Mesa 4 Lugares"];
                
                const randCust = customers[Math.floor(Math.random() * customers.length)];
                const randItem = items[Math.floor(Math.random() * items.length)];
                const randVal = Math.floor(Math.random() * 100) + 50;

                // Atualiza KPI
                revenue += randVal;
                count++;
                document.getElementById('kpi-rev').innerText = `R$ ${revenue},00`;
                document.getElementById('kpi-count').innerText = count;

                // Adiciona na lista
                const row = document.createElement('div');
                row.className = 'flex-between';
                row.style.padding = "10px 0";
                row.style.borderBottom = "1px solid #222";
                row.innerHTML = `
                    <div>
                        <div style="font-weight:bold;">${randCust}</div>
                        <small style="color:#666;">${randItem}</small>
                    </div>
                    <div class="text-neon">+ R$ ${randVal},00</div>
                `;
                const list = document.getElementById('live-list');
                list.prepend(row);
                if(list.children.length > 5) list.lastChild.remove();

                // Toast
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.innerHTML = `<i class="fa-solid fa-bell text-neon"></i> Nova venda: R$ ${randVal},00`;
                document.getElementById('toast-container').appendChild(toast);
                setTimeout(() => toast.remove(), 3000);

            }, 3500);
        }

        function stopSimulation() {
            clearInterval(simInterval);
            revenue = 0;
            count = 0;
        }
    </script>
</body>
</html>
